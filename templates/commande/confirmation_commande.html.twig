{% extends 'base.html.twig' %}

{% block title %}Commande confirmée{% endblock %}

{% block content %}
<section class="px-6 py-24 bg-gradient-to-b from-[#ffffff] via-[#eaf6f7] to-[#e5f7f8] text-[#1e1e1e]">
  <div class="max-w-2xl mx-auto text-center">
    <h1 class="text-3xl font-bold text-[#9b0d1f] mb-6">Merci pour votre commande !</h1>
    <p class="text-lg text-gray-700 mb-8">Votre commande  a bien été enregistrée. Vous recevrez une confirmation par email .</p>

    <div class="bg-white p-6 rounded shadow mb-8 text-left">
      <h2 class="text-xl font-bold mb-4">Récapitulatif de votre commande</h2>
      <ul class="space-y-2 mb-4">
        {% set totalProduits = 0 %}
        {% for item in items %}
          <li class="flex justify-between">
            <span>{{ item.produit.title }} x {{ item.quantity }}</span>
            <span>{{ (item.produit.price * item.quantity)|number_format(2, ',', ' ') }} DT</span>
          </li>
          {% set totalProduits = totalProduits + (item.produit.price * item.quantity) %}
        {% endfor %}
        
        <li class="flex justify-between border-t pt-2">
          <span>Frais de livraison</span>
          <span>5.00 DT</span>
        </li>
      </ul>
      <div class="border-t pt-4 font-bold">
        <p class="flex justify-between">
          <span>Total :</span>
          <span>{{ (totalProduits + 5)|number_format(2, ',', ' ') }} DT</span>
        </p>
      </div>
    </div>

    <div class="space-x-4">
      <a href="{{ path('app_home') }}" class="inline-block px-6 py-2 bg-[#9b0d1f] text-white rounded hover:bg-[#b31226] transition">Retour à l'accueil</a>
      <a href="#" class="inline-block px-6 py-2 bg-[#e5f7f8] text-[#1e1e1e] border border-[#9b0d1f] rounded hover:bg-white transition">Recevoir un mail de confirmation</a>
    </div>
  </div>
</section>
{% endblock %}